---
phase: 09-matchup-ui
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/frontend/components/matchup/PlayerSelect.tsx
  - packages/frontend/components/matchup/PositionFilter.tsx
  - packages/frontend/app/matchup/page.tsx
autonomous: true
---

<objective>
Create player selection UI with position filtering and search functionality.

Purpose: Enable users to select any NFL player (QB/RB/WR/TE) from a searchable dropdown, foundational component for matchup simulation.
Output: PlayerSelect component, PositionFilter component, and matchup page shell.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase 8 provides Convex hooks for player data
@packages/frontend/hooks/usePlayers.ts
@packages/frontend/convex/schema.ts

# Available Shadcn UI components
@packages/frontend/components/ui/combobox.tsx
@packages/frontend/components/ui/select.tsx
@packages/frontend/components/ui/button.tsx
@packages/frontend/components/ui/card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PositionFilter component</name>
  <files>packages/frontend/components/matchup/PositionFilter.tsx</files>
  <action>
Create a button group component for filtering players by position (QB, RB, WR, TE, All).

Props:
- `selected: string` - current selected position ("all" | "QB" | "RB" | "WR" | "TE")
- `onSelect: (position: string) => void` - callback when position changes

Implementation:
- Use Shadcn Button components with variant="outline" for unselected, variant="default" for selected
- Horizontal button group with flex layout
- "All" option shows all positions
- Use Tailwind for spacing (gap-2)

Export as named export.
  </action>
  <verify>File exists and exports PositionFilter component with correct props interface</verify>
  <done>PositionFilter component renders 5 buttons (All, QB, RB, WR, TE) and calls onSelect on click</done>
</task>

<task type="auto">
  <name>Task 2: Create PlayerSelect component</name>
  <files>packages/frontend/components/matchup/PlayerSelect.tsx</files>
  <action>
Create a searchable player selection component using Shadcn Combobox pattern.

Props:
- `position?: "QB" | "RB" | "WR" | "TE"` - optional filter by position
- `value: string | null` - selected player ID
- `onSelect: (playerId: string, player: Player) => void` - callback with player ID and full player object
- `placeholder?: string` - placeholder text (default: "Select a player...")

Implementation:
- Use usePlayersByPosition hook when position prop provided, otherwise usePlayers hook
- Show loading skeleton when isLoading is true
- Display player as "Name (Team)" format in dropdown
- Filter players by search query (case-insensitive name match)
- Use Shadcn Combobox component (Popover + Command pattern)
- Show "No players found" when search yields no results

Export as named export.
  </action>
  <verify>File exists and exports PlayerSelect component</verify>
  <done>PlayerSelect component renders searchable dropdown, filters by position when provided, calls onSelect with player data</done>
</task>

<task type="auto">
  <name>Task 3: Create matchup page with player selection</name>
  <files>packages/frontend/app/matchup/page.tsx</files>
  <action>
Create the matchup page that will house the full matchup simulator UI.

Structure:
- Page title "Matchup Simulator"
- Card containing player selection section
- Use useState to track: selectedPosition (default "all"), selectedPlayer (null initially)
- PositionFilter at top to filter player list
- PlayerSelect below, passing position filter
- Display selected player info below when selected (Name, Position, Team)

Layout:
- max-w-2xl centered container
- Card wrapper with CardHeader (title) and CardContent
- Responsive padding (p-4 md:p-8)

Use "use client" directive since it has state.
  </action>
  <verify>pnpm build in packages/frontend succeeds, page renders at /matchup</verify>
  <done>Matchup page renders with position filter and player select, displays selected player info</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm build` in packages/frontend succeeds without errors
- [ ] Navigate to http://localhost:3000/matchup shows the page
- [ ] PositionFilter buttons are clickable and update state
- [ ] PlayerSelect shows dropdown with player search (note: players table may be empty until populated)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Player selection UI functional (though data may need seeding)
</success_criteria>

<output>
After completion, create `.planning/phases/09-matchup-ui/09-01-SUMMARY.md`
</output>
